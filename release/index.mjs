import{FormikConsumer as n}from"formik";import e from"react";const t=function(){function n(){}return n.prototype.then=function(e,t){const o=new n,u=this.s;if(u){const n=1&u?e:t;if(n){try{r(o,1,n(this.v))}catch(n){r(o,2,n)}return o}return this}return this.o=function(n){try{const u=n.v;1&n.s?r(o,1,e?e(u):u):t?r(o,1,t(u)):r(o,2,u)}catch(n){r(o,2,n)}},o},n}();function r(n,e,o){if(!n.s){if(o instanceof t){if(!o.s)return void(o.o=r.bind(null,n,e));1&e&&(e=o.s),o=o.v}if(o&&o.then)return void o.then(r.bind(null,n,e),r.bind(null,n,2));n.s=e,n.v=o;const u=n.o;u&&u(n)}}const o={};!function(){function n(n){this._entry=n,this._pact=null,this._resolve=null,this._return=null,this._promise=null}function e(n){return{value:n,done:!0}}function u(n){return{value:n,done:!1}}n.prototype[Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))]=function(){return this},n.prototype._yield=function(n){return this._resolve(n&&n.then?n.then(u):u(n)),this._pact=new t},n.prototype.next=function(n){const u=this;return u._promise=new Promise(function(i){const l=u._pact;if(null===l){const n=u._entry;if(null===n)return i(u._promise);function c(n){u._resolve(n&&n.then?n.then(e):e(n)),u._pact=null,u._resolve=null}u._entry=null,u._resolve=i,n(u).then(c,function(n){if(n===o)c(u._return);else{const e=new t;u._resolve(e),u._pact=null,u._resolve=null,_resolve(e,2,n)}})}else u._pact=null,u._resolve=i,r(l,1,n)})},n.prototype.return=function(n){const t=this;return t._promise=new Promise(function(u){const i=t._pact;if(null===i)return null===t._entry?u(t._promise):(t._entry=null,u(n&&n.then?n.then(e):e(n)));t._return=n,t._resolve=u,t._pact=null,r(i,2,o)})},n.prototype.throw=function(n){const e=this;return e._promise=new Promise(function(t,o){const u=e._pact;if(null===u)return null===e._entry?t(e._promise):(e._entry=null,o(n));e._resolve=t,e._pact=null,r(u,2,n)})}}();var u=function(n,t,r){var o=e.useRef(n),u=e.useRef(null);e.useEffect(function(){var e=o.current;if(e.values!==n.values){if(t){var i=t(n.values,e.values);i&&n.setValues(i)}r&&(u.current&&u.current.abort(),u.current=new AbortController,function(n,e,t,r){try{Promise.resolve(function(o,u){try{var i=Promise.resolve(t(n.values,e.values,r)).then(function(e){if(e){var t=n.setFieldValue;e.forEach(function(n,r){t(n.field,n.value,r===e.length-1)})}})}catch(n){return u(n)}return i&&i.then?i.then(void 0,u):i}(0,function(n){var e="AbortError"!==n.name?n:null;if(e)throw e}))}catch(n){return Promise.reject(n)}}(n,e,r,u.current.signal))}o.current=n},[n,t,r])},i=function(n){return u(n.formik,n.determineSideEffects,n.determineAsyncSideEffect),null},l=function(t){var r=t.determineSideEffects,o=t.determineAsyncSideEffect;return e.createElement(n,null,function(n){return e.createElement(i,{determineSideEffects:r,determineAsyncSideEffect:o,formik:n})})};export{l as FormikSideEffects,u as useFormikSideEffects};
//# sourceMappingURL=index.mjs.map
