import{FormikConsumer as e}from"formik";import n from"react";const t=function(){function e(){}return e.prototype.then=function(n,t){const o=new e,u=this.s;if(u){const e=1&u?n:t;if(e){try{r(o,1,e(this.v))}catch(e){r(o,2,e)}return o}return this}return this.o=function(e){try{const u=e.v;1&e.s?r(o,1,n?n(u):u):t?r(o,1,t(u)):r(o,2,u)}catch(e){r(o,2,e)}},o},e}();function r(e,n,o){if(!e.s){if(o instanceof t){if(!o.s)return void(o.o=r.bind(null,e,n));1&n&&(n=o.s),o=o.v}if(o&&o.then)return void o.then(r.bind(null,e,n),r.bind(null,e,2));e.s=n,e.v=o;const u=e.o;u&&u(e)}}const o={};!function(){function e(e){this._entry=e,this._pact=null,this._resolve=null,this._return=null,this._promise=null}function n(e){return{value:e,done:!0}}function u(e){return{value:e,done:!1}}e.prototype[Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))]=function(){return this},e.prototype._yield=function(e){return this._resolve(e&&e.then?e.then(u):u(e)),this._pact=new t},e.prototype.next=function(e){const u=this;return u._promise=new Promise(function(i){const l=u._pact;if(null===l){const e=u._entry;if(null===e)return i(u._promise);function s(e){u._resolve(e&&e.then?e.then(n):n(e)),u._pact=null,u._resolve=null}u._entry=null,u._resolve=i,e(u).then(s,function(e){if(e===o)s(u._return);else{const n=new t;u._resolve(n),u._pact=null,u._resolve=null,_resolve(n,2,e)}})}else u._pact=null,u._resolve=i,r(l,1,e)})},e.prototype.return=function(e){const t=this;return t._promise=new Promise(function(u){const i=t._pact;if(null===i)return null===t._entry?u(t._promise):(t._entry=null,u(e&&e.then?e.then(n):n(e)));t._return=e,t._resolve=u,t._pact=null,r(i,2,o)})},e.prototype.throw=function(e){const n=this;return n._promise=new Promise(function(t,o){const u=n._pact;if(null===u)return null===n._entry?t(n._promise):(n._entry=null,o(e));n._resolve=t,n._pact=null,r(u,2,e)})}}();var u=function(e,t,r){var o=n.useRef(e),u=n.useRef(null);n.useEffect(function(){var n=o.current;if(n.values!==e.values){if(t){var i=t(e.values,n.values);i&&e.setValues(i)}r&&(u.current&&u.current.abort(),u.current=new AbortController,function(e,n,t,r){try{Promise.resolve(function(o,u){try{var i=Promise.resolve(t(e.values,n.values,r)).then(function(n){n&&(n.forEach(function(t,r){e.setFieldValue(t.field,t.value,r===n.length-1)}),console.log("Success",e.values.width))})}catch(e){return u(e)}return i&&i.then?i.then(void 0,u):i}(0,function(n){var t="AbortError"!==n.name?n:null;if(t)throw t;console.log("AbortError",e.values.width)}))}catch(e){return Promise.reject(e)}}(e,n,r,u.current.signal))}o.current=e},[e,t,r])},i=function(e){return u(e.formik,e.determineSideEffects,e.determineAsyncSideEffect),null},l=function(t){var r=t.determineSideEffects,o=t.determineAsyncSideEffect;return n.createElement(e,null,function(e){return n.createElement(i,{determineSideEffects:r,determineAsyncSideEffect:o,formik:e})})};export{l as FormikSideEffects,u as useFormikSideEffects};
//# sourceMappingURL=index.mjs.map
